# üöÄ Enterprise Multi-Modal Knowledge Engine (RAG+)

> **Domain-Agnostic Retrieval-Augmented Generation Framework** —Å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–º –∫–∞—Å–∫–∞–¥–Ω—ã–º –ø–æ–∏—Å–∫–æ–º –∏ –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–º –≤–≤–æ–¥–æ–º –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –±–∏–∑–Ω–µ—Å-—Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.

---

## üìã Problem Statement

–í —É—Å–ª–æ–≤–∏—è—Ö **field operations** (—Å–∫–ª–∞–¥—ã, –ª–æ–≥–∏—Å—Ç–∏–∫–∞, –∞—É–¥–∏—Ç –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏, —Å–ª–æ–∂–Ω—ã–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è) —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã –≤ –¥–æ—Å—Ç—É–ø–µ –∫ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º –±–∞–∑–∞–º –∑–Ω–∞–Ω–∏–π. –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ PDF-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º, Wiki-—Å—Ç—Ä–∞–Ω–∏—Ü–∞–º –∏–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –±–∞–∑–∞–º –¥–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–±—É–µ—Ç:

- **–í—Ä–µ–º–µ–Ω–∏:** 5-15 –º–∏–Ω—É—Ç –Ω–∞ —Ä—É—á–Ω–æ–π –ø–æ–∏—Å–∫ –∏ –∞–Ω–∞–ª–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è:** –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
- **–¢–æ—á–Ω–æ—Å—Ç–∏:** —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π —Ñ–∞–∫—Ç–æ—Ä –ø—Ä–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**Enterprise Multi-Modal Knowledge Engine** —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É **zero-shot access** –∫ —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–º –∑–Ω–∞–Ω–∏—è–º —á–µ—Ä–µ–∑ –ª—é–±–æ–π —Ç–∏–ø –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö: **–≥–æ–ª–æ—Å, —Ñ–æ—Ç–æ –∏–ª–∏ —Ç–µ–∫—Å—Ç**, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è **sub-second latency** –∏ **enterprise-grade reliability**.

---

## üíé Business Value & ROI

### Operational Expenditure (OpEx) Reduction: **40-60%**

**–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (L1 MD5 Cache)** —Å LRU-—ç–≤–∏–∫—à–Ω–æ–º:
- **MD5-—Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (query + 20-—à–∞–≥–æ–≤–∞—è –∏—Å—Ç–æ—Ä–∏—è) –¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- **LRU-based eviction policy**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–∞–∏–º–µ–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∑–∞–ø–∏—Å–µ–π –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ (500 entries)
- **Use-count tracking**: –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ (`use_count`, `last_access`)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** —Å–Ω–∏–∂–µ–Ω–∏–µ –≤—ã–∑–æ–≤–æ–≤ LLM API –Ω–∞ 40-60%, —á—Ç–æ –ø—Ä–∏ –º–∞—Å—à—Ç–∞–±–µ 10K+ –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å —ç–∫–æ–Ω–æ–º–∏—Ç $500-1000/–º–µ—Å—è—Ü

### Reliability & Trust: **Ragas Metrics 0.80+**

**–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞** —á–µ—Ä–µ–∑ Ragas framework:
- **Faithfulness: 0.80** (—Å—Ä–µ–¥–Ω–µ–µ –ø–æ —Ç–µ—Å—Ç–æ–≤–æ–º—É –Ω–∞–±–æ—Ä—É) ‚Äî –æ—Ç–≤–µ—Ç—ã —Å—Ç—Ä–æ–≥–æ –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö, –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π
- **Answer Relevancy: 0.95** (—Å—Ä–µ–¥–Ω–µ–µ) ‚Äî —Ç–æ—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –±–∏–∑–Ω–µ—Å-–∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **Zero-shot analysis**: —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –ø—Ä–µ–¥–æ–±—É—á–µ–Ω–∏—è –Ω–∞ –¥–æ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### Hands-Free Efficiency

**Multi-modal input pipeline** –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –±–µ–∑ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞:
- **Voice-to-Knowledge**: —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —á–µ—Ä–µ–∑ Whisper API ‚Üí —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫
- **Vision-to-Context**: –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ GPT-4o Vision ‚Üí —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π
- **Text-to-Answer**: –ø—Ä—è–º–æ–π RAG-–ø–æ–∏—Å–∫ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–π –ø–∞–º—è—Ç—å—é

---

## üì∏ System in Action (Demo)

### Multi-Modal Interaction
| üé§ Voice Interface | üì∏ Vision Analysis | üåê Web Search & Context |
| :--- | :--- | :--- |
| ![Voice Demo](assets/voice_demo.jpg) | ![Vision Demo](assets/vision_demo.jpg) | ![Web Search Demo](assets/web_demo.jpg) |
| *–û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö —Å–∏—Å—Ç–µ–º—ã —Å —É—á–µ—Ç–æ–º –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –±—é–¥–∂–µ—Ç–∞.* | *Zero-shot —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –¥–∞—Ç–∞–º–∏ –≤ travel-–ø–ª–∞–Ω–µ.* | *–†–∞–±–æ—Ç–∞ L3 (–∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∫—É—Ä—Å –≤–∞–ª—é—Ç) –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–∏–∞–ª–æ–≥–∞.* |

---

## üèó Architecture & Implementation

### System Overview

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **Domain-Agnostic Framework** (–¥–æ–º–µ–Ω–Ω–æ-–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –∫–∞—Ä–∫–∞—Å). –í –∫–∞—á–µ—Å—Ç–≤–µ **Proof of Concept (PoC)** —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤ —Å–ª–æ–∂–Ω–æ–π –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ä–µ–¥–µ: –ø–æ–∏—Å–∫ –∂–∏–ª—å—è –Ω–∞ –®—Ä–∏-–õ–∞–Ω–∫–µ —Å –±—é–¥–∂–µ—Ç–æ–º **$2500** –Ω–∞ 3 –º–µ—Å—è—Ü–∞ –∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ (–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª, –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä). –≠—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É —Å **–Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏** –∏ **—Å–ª–æ–∂–Ω—ã–º–∏ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞–º–∏**.

### Three-Tier Retrieval Cascade (L1 ‚Üí L2 ‚Üí L3)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    User Input (Voice/Photo/Text)            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ   L1: MD5 Cache Lookup                ‚îÇ
        ‚îÇ   ‚Ä¢ Hash: MD5(query + history)        ‚îÇ
        ‚îÇ   ‚Ä¢ Latency: <10ms                     ‚îÇ
        ‚îÇ   ‚Ä¢ Hit Rate: 40-60%                   ‚îÇ
        ‚îÇ   ‚Ä¢ Eviction: LRU (500 entries)       ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ Cache Miss
                        ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ   L2: ChromaDB Semantic Search         ‚îÇ
        ‚îÇ   ‚Ä¢ Embeddings: OpenAI text-embedding  ‚îÇ
        ‚îÇ   ‚Ä¢ k=5, relevance threshold: 0.4     ‚îÇ
        ‚îÇ   ‚Ä¢ Latency: 100-300ms                 ‚îÇ
        ‚îÇ   ‚Ä¢ Chunking: 1000 chars, overlap 100 ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ Insufficient Context
                        ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ   L3: Tavily Web Search                ‚îÇ
        ‚îÇ   ‚Ä¢ Trigger: keywords OR empty context ‚îÇ
        ‚îÇ   ‚Ä¢ Keywords: –∫—É—Ä—Å, —Å–µ–≥–æ–¥–Ω—è, –ø–æ–≥–æ–¥–∞... ‚îÇ
        ‚îÇ   ‚Ä¢ Latency: 500-1000ms                ‚îÇ
        ‚îÇ   ‚Ä¢ Results: k=3                       ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
                        ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ   LLM Synthesis (GPT-4o-mini)          ‚îÇ
        ‚îÇ   ‚Ä¢ Temperature: 0 (deterministic)      ‚îÇ
        ‚îÇ   ‚Ä¢ Context: history + retrieved docs  ‚îÇ
        ‚îÇ   ‚Ä¢ System prompt: domain-specific     ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
                        ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ   Response + Cache Write (L1)          ‚îÇ
        ‚îÇ   ‚Ä¢ Save with use_count=1              ‚îÇ
        ‚îÇ   ‚Ä¢ Update last_access timestamp       ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### L1: Efficiency Layer (MD5 Cache)

**Implementation Details** (`rag/rag_vector_engine.py`):
- **Cache Key Generation**: 
  ```python
  full_string = f"{history}|{query}".strip().lower()
  cache_key = hashlib.md5(full_string.encode()).hexdigest()
  ```
  - –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è: lowercase, strip whitespace
  - –£—á–µ—Ç 20-—à–∞–≥–æ–≤–æ–π –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–π —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏
- **Storage**: JSON-based persistent cache (`llm_cache.json`)
- **Eviction Policy**: LRU —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –ø–æ `(use_count, last_access)`
  - –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ 500 –∑–∞–ø–∏—Å–µ–π —É–¥–∞–ª—è–µ—Ç—Å—è –∑–∞–ø–∏—Å—å —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º `use_count` –∏ —Å—Ç–∞—Ä–µ–π—à–∏–º `last_access`
  - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: `sorted(cache.keys(), key=lambda k: (cache[k]['use_count'], cache[k]['last_access']))`
- **Cache Hit Tracking**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `use_count += 1` –∏ `last_access = time.time()` –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏
- **Latency**: <10ms (in-memory JSON lookup)
**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:**
–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω —Ñ—Ä–∞–≥–º–µ–Ω—Ç `llm_cache.json`, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–π –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –¥–ª—è LRU-–ø–æ–ª–∏—Ç–∏–∫–∏.

![Cache Structure](assets/cache_demo.jpg)
*–ú–µ—Ö–∞–Ω–∏–∑–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è `use_count` –∏ `last_access` –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é.*

**Token Economy:**
- –ö–∞–∂–¥—ã–π cache hit —ç–∫–æ–Ω–æ–º–∏—Ç ~500-2000 —Ç–æ–∫–µ–Ω–æ–≤ (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥–ª–∏–Ω—ã –æ—Ç–≤–µ—Ç–∞)
- –ü—Ä–∏ hit rate 50% —ç–∫–æ–Ω–æ–º–∏—è —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç ~$0.01-0.02 –Ω–∞ –∑–∞–ø—Ä–æ—Å
- –ü—Ä–∏ –º–∞—Å—à—Ç–∞–±–µ 10K –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å: —ç–∫–æ–Ω–æ–º–∏—è $100-200/–¥–µ–Ω—å

#### L2: Expertise Layer (ChromaDB Vector Store)

**Implementation Details** (`rag/rag_vector_engine.py`):
- **Embedding Model**: `OpenAIEmbeddings()` (text-embedding-ada-002 –∏–ª–∏ –Ω–æ–≤–µ–µ)
- **Vector Store**: ChromaDB —Å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º (`data/chroma_db/`)
- **Retrieval Strategy**: `similarity_search_with_relevance_scores(query, k=5)`
- **Relevance Threshold**: 0.4 (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–∏–∑–∫–æ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —á–∞–Ω–∫–æ–≤)
  ```python
  docs = vectorstore.similarity_search_with_relevance_scores(query, k=5)
  return "\n---\n".join([d[0].page_content for d in docs if d[1] > 0.4])
  ```
- **Chunking Strategy**: `RecursiveCharacterTextSplitter` 
  - `chunk_size=1000` —Å–∏–º–≤–æ–ª–æ–≤
  - `chunk_overlap=100` —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- **Document Support**: 
  - TXT (—á–µ—Ä–µ–∑ `TextLoader` —Å UTF-8 encoding)
  - PDF (—á–µ—Ä–µ–∑ `PyPDFLoader`)

**Semantic Search Quality:**
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –º–µ—Ç—Ä–∏–∫ Ragas > 0.70
- k=5 –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å—é –∏ —à—É–º–æ–º
- –ü–æ—Ä–æ–≥ 0.4 –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞–µ—Ç ~20-30% –Ω–∏–∑–∫–æ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

#### L3: Real-time Layer (Tavily Web Search)

**Implementation Details** (`rag/rag_vector_engine.py`):
- **Trigger Logic**: 
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–∑–æ–≤ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏–∑ L2: `needs_web = not context`
  - Keyword-based trigger: `["–∫—É—Ä—Å", "—Å–µ–≥–æ–¥–Ω—è", "–ø–æ–≥–æ–¥–∞", "—Ü–µ–Ω–∞", "—Å–µ–π—á–∞—Å", "–Ω–æ–≤–æ—Å—Ç–∏"]`
  ```python
  trigger_words = ["–∫—É—Ä—Å", "—Å–µ–≥–æ–¥–Ω—è", "–ø–æ–≥–æ–¥–∞", "—Ü–µ–Ω–∞", "—Å–µ–π—á–∞—Å", "–Ω–æ–≤–æ—Å—Ç–∏"]
  needs_web = not context or any(word in query.lower() for word in trigger_words)
  ```
- **Search Results**: `TavilySearchResults(k=3)` ‚Äî —Ç–æ–ø-3 —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- **Fallback**: Graceful degradation –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API
  ```python
  try:
      web_info = search.run(query)
  except: 
      web_info = "[–í–µ–±-–ø–æ–∏—Å–∫ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω]"
  ```

### Multi-Modal Input Pipeline

#### Voice ‚Üí Text ‚Üí RAG

**Flow** (`bot.py` ‚Üí `utils/voice_handler.py`):
1. **Voice Input** (Telegram voice message) ‚Üí `data/voice_{file_id}.ogg`
2. **Transcription** (`utils/voice_handler.py`):
   - OpenAI Whisper API (`whisper-1` model)
   - Async processing: `async def transcribe_voice(file_path)`
   - Error handling —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º `None` –ø—Ä–∏ —Å–±–æ–µ
3. **Text Normalization** ‚Üí –ø–µ—Ä–µ–¥–∞—á–∞ –≤ `process_user_request(user_id, transcribed_text)`
4. **RAG Pipeline** (L1 ‚Üí L2 ‚Üí L3) ‚Üí –æ—Ç–≤–µ—Ç —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `üé§ [–ì–æ–ª–æ—Å]: {transcribed_text}`
5. **Cleanup**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏

**Use Case Example:**
> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: *[–≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ]* "–ö–∞–∫–æ–π —É –º–µ–Ω—è –±—é–¥–∂–µ—Ç –Ω–∞ –ø–æ–µ–∑–¥–∫—É?"  
> –°–∏—Å—Ç–µ–º–∞: —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä—É–µ—Ç ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫—ç—à ‚Üí –Ω–∞—Ö–æ–¥–∏—Ç –≤ –±–∞–∑–µ ‚Üí –æ—Ç–≤–µ—á–∞–µ—Ç: "–û–±—â–∏–π –±—é–¥–∂–µ—Ç –Ω–∞ 3 –º–µ—Å—è—Ü–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç $2500 –∑–∞ –≤—Å–µ."

#### Vision ‚Üí Description ‚Üí RAG

**Flow** (`bot.py` ‚Üí `utils/vision_helper.py`):
1. **Image Input** (Telegram photo) ‚Üí `data/img_{photo.file_id}.jpg`
2. **Zero-shot Vision Analysis** (`utils/vision_helper.py`):
   - GPT-4o-mini Vision API
   - Base64 encoding –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - System prompt: —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–π –≥–∏–¥ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø–ª–∞–Ω–∞ –ø–æ–µ–∑–¥–∫–∏
   ```python
   instruction = f"""–¢—ã ‚Äî —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–π –≥–∏–¥ –ø–æ –®—Ä–∏-–õ–∞–Ω–∫–µ. 
   1. –û–ø–æ–∑–Ω–∞–π –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ —Ñ–æ—Ç–æ. 
   2. –°–≤–µ—Ä—å –µ—ë —Å –ø–ª–∞–Ω–æ–º –ø–æ–µ–∑–¥–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è...
   """
   ```
   - Output: —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (max_tokens=500)
3. **Context Enrichment**: –æ–ø–∏—Å–∞–Ω–∏–µ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç—Å—è —Å –∑–∞–ø—Ä–æ—Å–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   ```python
   response = await process_user_request(user_id, 
       f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏—Å–ª–∞–ª —Ñ–æ—Ç–æ. –ù–∞ –Ω–µ–º: {image_description}")
   ```
4. **RAG Pipeline** ‚Üí –æ—Ç–≤–µ—Ç —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `üì∏ [–ê–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ]:`
5. **Cleanup**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

**Use Case Example:**
> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: *[—Ñ–æ—Ç–æ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏]*  
> –°–∏—Å—Ç–µ–º–∞: –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Üí —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å –ø–ª–∞–Ω–æ–º –ø–æ–µ–∑–¥–∫–∏ ‚Üí –æ—Ç–≤–µ—á–∞–µ—Ç: "–≠—Ç–æ –õ—å–≤–∏–Ω–∞—è —Å–∫–∞–ª–∞ –≤ –°–∏–≥–∏—Ä–∏–∏. –ü–æ –≤–∞—à–µ–º—É –ø–ª–∞–Ω—É, –≤—ã –±—É–¥–µ—Ç–µ —Ç–∞–º 26 —Ñ–µ–≤—Ä–∞–ª—è."

#### Text ‚Üí Direct RAG

**Flow** (`bot.py`):
1. **Text Input** ‚Üí –ø—Ä—è–º–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –≤ `process_user_request(message.from_user.id, message.text)`
2. **RAG Pipeline** (L1 ‚Üí L2 ‚Üí L3) ‚Üí –æ—Ç–≤–µ—Ç

### Memory & Context Management

**Implementation** (`bot_memory.py`):
- **Per-User History**: `defaultdict(list)` —Å –∏–∑–æ–ª—è—Ü–∏–µ–π –ø–æ `user_id`
- **History Window**: –ø–æ—Å–ª–µ–¥–Ω–∏–µ **20 —Å–æ–æ–±—â–µ–Ω–∏–π** (`MAX_HISTORY = 20`)
- **Format**: `"{role}: {content}"` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
  ```python
  return "\n".join([f"{msg['role']}: {msg['content']}" for msg in history])
  ```
- **Context Injection**: –∏—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∫–∞–∂–¥—ã–π RAG-–∑–∞–ø—Ä–æ—Å –¥–ª—è —Å–≤—è–∑–Ω–æ—Å—Ç–∏ –¥–∏–∞–ª–æ–≥–∞
  ```python
  history_list = user_histories.get(user_id, [])[-20:]
  history_text = "\n".join([f"{m['role']}: {m['content']}" for m in history_list])
  response = get_rag_response(query_text, history=history_text)
  ```
- **Automatic Pruning**: –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ 20 —Å–æ–æ–±—â–µ–Ω–∏–π —É–¥–∞–ª—è–µ—Ç—Å—è —Å–∞–º–æ–µ —Å—Ç–∞—Ä–æ–µ (`pop(0)`)

**State Management Benefits:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤ –±–µ–∑ —è–≤–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏—Å—Ç–æ—Ä–∏–∏ (–Ω–æ–≤—ã–π MD5 hash)
- –ò–∑–æ–ª—è—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (multi-tenant support)

**Cache-Context Integration:**
- –ò—Å—Ç–æ—Ä–∏—è –±–µ—Ä–µ—Ç—Å—è **–î–û** –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ –¥–ª—è —á–∏—Å—Ç–æ—Ç—ã –∫—ç—à–∞
- MD5-—Ö—ç—à –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

---

## üìä Quality Metrics & Evaluation

### Ragas Evaluation Framework

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—à–ª–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é –∫–∞—á–µ—Å—Ç–≤–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ **Ragas** (Research Assistant for Grounded Answer Selection).

**Test Dataset** (`eval_rag.py` ‚Äî 3 –≤–æ–ø—Ä–æ—Å–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö):
1. "–ö–∞–∫–æ–π –æ–±—â–∏–π –±—é–¥–∂–µ—Ç —É –ú–∞—Ä–≥–æ –Ω–∞ –ø–æ–µ–∑–¥–∫—É?"
2. "–ö–∞–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —É –ú–∞—Ä–≥–æ –∫ –∂–∏–ª—å—é –≤ –ü–æ–ª—Ö–µ–Ω–µ?"
3. "–ö–æ–≥–¥–∞ –ú–∞—Ä–≥–æ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –±—ã—Ç—å –≤ –°–∏–≥–∏—Ä–∏–∏ –∏ —á—Ç–æ —Ç–∞–º –¥–µ–ª–∞—Ç—å?"

**Ground Truth Answers:**
1. "–û–±—â–∏–π –±—é–¥–∂–µ—Ç –Ω–∞ 3 –º–µ—Å—è—Ü–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç $2500 –∑–∞ –≤—Å–µ."
2. "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞–ª–∏—á–∏–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞ (–Ω–µ –∫–æ—Ñ–µ–π–Ω–æ–≥–æ) –∏ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞."
3. "26 —Ñ–µ–≤—Ä–∞–ª—è ‚Äî –ø–æ–¥—ä–µ–º –Ω–∞ –õ—å–≤–∏–Ω—É—é —Å–∫–∞–ª—É, 27 —Ñ–µ–≤—Ä–∞–ª—è ‚Äî –ü–∏–¥—É—Ä–∞–Ω–≥–∞–ª–∞ –∏ —Å–∞—Ñ–∞—Ä–∏."

**Results** (`ragas_report.csv`):

| Metric | Q1 | Q2 | Q3 | **Average** |
|--------|----|----|----|-------------|
| **Faithfulness** | 1.0 | 1.0 | 0.4 | **0.80** |
| **Answer Relevancy** | 0.984 | 0.966 | 0.921 | **0.95** |

**Interpretation:**
- **Faithfulness 0.80**: –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –≤–µ—Ä–Ω–æ—Å—Ç–∏ –∏—Å—Ç–æ—á–Ω–∏–∫—É –¥–∞–Ω–Ω—ã—Ö. Q1 –∏ Q2 –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∏–¥–µ–∞–ª—å–Ω—É—é —Ç–æ—á–Ω–æ—Å—Ç—å (1.0) –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Ñ–∞–∫—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤. Q3 (0.4) —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∏—è –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏.
- **Answer Relevancy 0.95**: –æ—Ç–ª–∏—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ—Ç–≤–µ—Ç–∞ –±–∏–∑–Ω–µ—Å-–∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –í—Å–µ —Ç—Ä–∏ –≤–æ–ø—Ä–æ—Å–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç relevancy > 0.92, —á—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞.

**Evaluation Pipeline** (`eval_rag.py`):
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –æ—Ç–≤–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ `get_rag_response(q, history="")` (–±–µ–∑ –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è —á–∏—Å—Ç–æ—Ç—ã —Ç–µ—Å—Ç–∞)
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ `get_context(q)` (k=5, —Ä–µ–∞–ª—å–Ω—ã–µ retrieved contexts)
- –†–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫ —á–µ—Ä–µ–∑ Ragas —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º GPT-4o-mini –∫–∞–∫ evaluator LLM
- –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ CSV (`ragas_report.csv`) –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

---

## üíª Tech Stack

### Core Engine
- **Python 3.11+** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **LangChain 1.2.8** ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è RAG-–ø–∞–π–ø–ª–∞–π–Ω–∞
- **LangChain OpenAI 1.1.7** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI API
- **LangChain Chroma 1.1.0** ‚Äî –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- **LangChain Community 0.4.1** ‚Äî –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (Tavily, PDF loaders)
- **LangChain Text Splitters 1.1.0** ‚Äî —á–∞–Ω–∫–∏–Ω–≥ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### AI Models & APIs
- **OpenAI GPT-4o-mini** ‚Äî LLM –¥–ª—è —Å–∏–Ω—Ç–µ–∑–∞ –æ—Ç–≤–µ—Ç–æ–≤ (temperature=0 –¥–ª—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏)
- **OpenAI Whisper API** ‚Äî —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (`whisper-1`)
- **OpenAI GPT-4o Vision** ‚Äî –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (zero-shot, `gpt-4o-mini`)
- **OpenAI Embeddings** ‚Äî —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞

### Storage & Caching
- **ChromaDB 1.4.1** ‚Äî –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º
- **JSON-based Cache** ‚Äî LRU-–∫—ç—à —Å MD5-—Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º (persistent file: `llm_cache.json`)
- **Hashlib (MD5)** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–ª—é—á–µ–π –∫—ç—à–∞

### Interface & Communication
- **Aiogram 3.24.0** ‚Äî production-ready –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Telegram Bot Framework
- **Async/Await** ‚Äî non-blocking I/O –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **Aiofiles 25.1.0** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏

### Quality Assurance & Analytics
- **Ragas 0.4.3** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ RAG-—Å–∏—Å—Ç–µ–º
- **Pandas 3.0.0** ‚Äî –∞–Ω–∞–ª–∏–∑ –º–µ—Ç—Ä–∏–∫ –∏ —ç–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–æ–≤
- **Datasets 4.5.0** ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Ragas

### External Services
- **Tavily Search API** (`tavily-python 0.7.21`) ‚Äî real-time –≤–µ–±-–ø–æ–∏—Å–∫ –¥–ª—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### Utilities
- **Python-dotenv 1.2.1** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **Base64** ‚Äî –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è Vision API

---

## üõ° Production Readiness & Security

### Configuration Management
- **Twelve-Factor App Compliance**: –∏–∑–æ–ª—è—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`.env`)
- **Environment Variables**:
  - `TELEGRAM_BOT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
  - `OPENAI_API_KEY` ‚Äî –∫–ª—é—á OpenAI API
  - `TAVILY_API_KEY` ‚Äî –∫–ª—é—á Tavily Search API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### Scalability & Domain Adaptation
- **Domain-Agnostic Architecture**: –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –ª—é–±—É—é –∏–Ω–¥—É—Å—Ç—Ä–∏—é –ø—É—Ç–µ–º –∑–∞–º–µ–Ω—ã –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `/data`
- **Supported Domains**: LegalTech, FinTech, Medicine, Logistics, Real Estate, Travel
- **Document Formats**: TXT, PDF (—Ä–∞—Å—à–∏—Ä—è–µ–º–æ —á–µ—Ä–µ–∑ LangChain loaders)

### Error Handling & Resilience
- **Graceful Degradation**: fallback –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤–Ω–µ—à–Ω–∏—Ö API (Tavily, Whisper)
- **Exception Handling**: try-except –±–ª–æ–∫–∏ –≤–æ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
- **File Cleanup**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (voice, images) –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
  ```python
  finally:
      if os.path.exists(file_path): 
          os.remove(file_path)
  ```

### Performance Optimization
- **Async Processing**: –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **Cache-First Strategy**: –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è latency —á–µ—Ä–µ–∑ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∫—ç—à–∞
- **Batch Operations**: —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

---

## üöÄ Quick Start

### Prerequisites
- Python 3.11+
- OpenAI API key (–¥–ª—è GPT-4o-mini, Whisper, Vision, Embeddings)
- Telegram Bot Token (—Å–æ–∑–¥–∞—Ç—å —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather))
- (Optional) Tavily API key –¥–ª—è –≤–µ–±-–ø–æ–∏—Å–∫–∞

### Installation

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/zuzinamd-creator/multimodal-rag-assistant.git

# –ü–µ—Ä–µ—Ö–æ–¥ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd multimodal-rag-assistant

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤–∞—à–∏ API –∫–ª—é—á–∏:
# TELEGRAM_BOT_TOKEN=your_token_here
# OPENAI_API_KEY=your_key_here
# TAVILY_API_KEY=your_key_here  # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
```

### Initial Setup

```bash
# –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –≤–µ–∫—Ç–æ—Ä–Ω—É—é –±–∞–∑—É
python -c "from rag.rag_vector_engine import ingest_docs; print(f'–ó–∞–≥—Ä—É–∂–µ–Ω–æ: {ingest_docs()} —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤')"

# –ò–ª–∏ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞:
# /ingest
```

### Running the Bot

```bash
# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
python bot.py

# –ë–æ—Ç –±—É–¥–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –∫–æ–º–∞–Ω–¥—ã:
# /start - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
# /ingest - –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
```

### Evaluation

```bash
# –ó–∞–ø—É—Å–∫ –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —á–µ—Ä–µ–∑ Ragas
python eval_rag.py

# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ ragas_report.csv
# –ú–µ—Ç—Ä–∏–∫–∏: Faithfulness, Answer Relevancy
```

---

## üìà Demo Case: Sri Lanka Housing Search (PoC)

–í –∫–∞—á–µ—Å—Ç–≤–µ **Proof of Concept** —Å–∏—Å—Ç–µ–º–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –ø–æ–∏—Å–∫ –∂–∏–ª—å—è –Ω–∞ –®—Ä–∏-–õ–∞–Ω–∫–µ —Å —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

### Business Requirements
- **–ë—é–¥–∂–µ—Ç**: $2500 –Ω–∞ 3 –º–µ—Å—è—Ü–∞ (—è–Ω–≤–∞—Ä—å-–º–∞—Ä—Ç 2026)
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
  - –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª (–Ω–µ –∫–æ—Ñ–µ–π–Ω—ã–π) –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã
  - –ö–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä (1 —Å–ø–∞–ª—å–Ω—è, 1 AC –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ)
- **–õ–æ–∫–∞—Ü–∏—è**: –ü–æ–ª—Ö–µ–Ω–∞ (17.01-17.02)

### Knowledge Base Structure (`data/docs/`)
- **`requirements.txt`** ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ –±—é–¥–∂–µ—Ç
  ```
  –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø –ú–ê–†–ì–û:
  - –û–±—â–∏–π –±—é–¥–∂–µ—Ç –Ω–∞ 3 –º–µ—Å—è—Ü–∞: $2500 –Ω–∞ –≤—Å—ë
  - –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∂–∏–ª—å—é: –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª, –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä
  ```
- **`plan.txt`** ‚Äî –≥—Ä–∞—Ñ–∏–∫ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è —Å –¥–∞—Ç–∞–º–∏ –∏ –ª–æ–∫–∞—Ü–∏—è–º–∏
  ```
  –ì–†–ê–§–ò–ö –ü–£–¢–ï–®–ï–°–¢–í–ò–Ø –ú–ê–†–ì–û 2026:
  - 14.01 - 17.01: –ü—Ä–∏–±—ã—Ç–∏–µ –≤ –ö–æ–ª–æ–º–±–æ
  - 17.01 - 17.02: –ü–æ–ª—Ö–µ–Ω–∞ (–∞—Ä–µ–Ω–¥–∞ –≤–∏–ª–ª—ã)
  - 26.02: –°–∏–≥–∏—Ä–∏—è. –õ—å–≤–∏–Ω–∞—è —Å–∫–∞–ª–∞
  ...
  ```
- **`locations.txt`** ‚Äî —Å–ø—Ä–∞–≤–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ª–æ–∫–∞—Ü–∏—è—Ö (–∫–æ—Ñ–µ, –ø–ª—è–∂–∏, –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)

### Demonstration of Unstructured Data Processing

–°–∏—Å—Ç–µ–º–∞ —É—Å–ø–µ—à–Ω–æ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏ —Å–∏–Ω—Ç–µ–∑–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —Ç–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –æ:
- **–ë—é–¥–∂–µ—Ç–µ**: "–ö–∞–∫–æ–π –æ–±—â–∏–π –±—é–¥–∂–µ—Ç —É –ú–∞—Ä–≥–æ –Ω–∞ –ø–æ–µ–∑–¥–∫—É?" ‚Üí "$2500 –Ω–∞ 3 –º–µ—Å—è—Ü–∞" (Faithfulness: 1.0)
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è—Ö**: "–ö–∞–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∂–∏–ª—å—é?" ‚Üí "–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª –∏ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä" (Faithfulness: 1.0)
- **–ü–ª–∞–Ω–∞—Ö**: "–ö–æ–≥–¥–∞ –≤ –°–∏–≥–∏—Ä–∏–∏?" ‚Üí "26 —Ñ–µ–≤—Ä–∞–ª—è ‚Äî –õ—å–≤–∏–Ω–∞—è —Å–∫–∞–ª–∞, 27 —Ñ–µ–≤—Ä–∞–ª—è ‚Äî –ü–∏–¥—É—Ä–∞–Ω–≥–∞–ª–∞" (Relevancy: 0.92)

–≠—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç—Å—è –º–µ—Ç—Ä–∏–∫–∞–º–∏ Ragas (**Faithfulness 0.80, Relevancy 0.95**), –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ —Å–ª–æ–∂–Ω—ã–º–∏ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞–º–∏.

---

## üìù Project Structure

```
multimodal-rag-assistant/
‚îú‚îÄ‚îÄ bot.py                      # Main bot entry point (Aiogram 3.x)
‚îú‚îÄ‚îÄ bot_memory.py               # Memory management (20-step history)
‚îú‚îÄ‚îÄ eval_rag.py                 # Ragas evaluation pipeline
‚îú‚îÄ‚îÄ requirements.txt            # Python dependencies
‚îú‚îÄ‚îÄ rag/
‚îÇ   ‚îú‚îÄ‚îÄ rag_vector_engine.py    # L1-L2-L3 retrieval cascade
‚îÇ   ‚îî‚îÄ‚îÄ engine.py              # (legacy, if exists)
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ voice_handler.py       # Whisper transcription
‚îÇ   ‚îú‚îÄ‚îÄ vision_helper.py       # GPT-4o Vision analysis
‚îÇ   ‚îî‚îÄ‚îÄ web_search.py          # (if exists)
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ openai_client.py       # OpenAI client wrapper
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ chroma_db/             # ChromaDB vector store
‚îÇ   ‚îú‚îÄ‚îÄ docs/                  # Knowledge base (TXT, PDF)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ plan.txt
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ locations.txt
‚îÇ   ‚îú‚îÄ‚îÄ voice/                 # Temporary voice files
‚îÇ   ‚îî‚îÄ‚îÄ photos/                # Temporary image files
‚îú‚îÄ‚îÄ llm_cache.json             # MD5-based cache (L1)
‚îî‚îÄ‚îÄ ragas_report.csv           # Evaluation metrics
```

---

## üîó Additional Resources

- [LangChain Documentation](https://python.langchain.com/)
- [ChromaDB Documentation](https://docs.trychroma.com/)
- [Ragas Evaluation Guide](https://docs.ragas.io/)
- [Aiogram 3.x Documentation](https://docs.aiogram.dev/)
- [OpenAI API Reference](https://platform.openai.com/docs)

---

## üìÑ License & Credits

**Framework**: Domain-Agnostic RAG+ Engine  
**PoC Implementation**: Sri Lanka Travel Assistant  
**Evaluation**: Ragas Framework  
**Architecture**: Three-Tier Retrieval Cascade (L1-L2-L3)
---

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

---
## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –≤–Ω–µ–¥—Ä–∏—Ç—å –ø–æ–¥–æ–±–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã —Å –ø–æ–º–æ—â—å—é AI:
* **Telegram:** [@Margo_AI_Engineer](https://t.me/Margo_AI_Engineer)